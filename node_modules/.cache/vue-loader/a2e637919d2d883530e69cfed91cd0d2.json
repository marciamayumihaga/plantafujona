{"remainingRequest":"/Users/andreruz/Desktop/Marcia/Escapista/EscapeVirtual/cadastrosala/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andreruz/Desktop/Marcia/Escapista/EscapeVirtual/cadastrosala/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/andreruz/Desktop/Marcia/Escapista/EscapeVirtual/cadastrosala/src/App.vue","mtime":1592614121000},{"path":"/Users/andreruz/Desktop/Marcia/Escapista/EscapeVirtual/cadastrosala/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreruz/Desktop/Marcia/Escapista/EscapeVirtual/cadastrosala/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/andreruz/Desktop/Marcia/Escapista/EscapeVirtual/cadastrosala/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/andreruz/Desktop/Marcia/Escapista/EscapeVirtual/cadastrosala/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreruz/Desktop/Marcia/Escapista/EscapeVirtual/cadastrosala/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc2VsZWNpb25hZG8gewogIGJhY2tncm91bmQtY29sb3I6IHllbGxvdzsKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoNA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <h1>Cadastro de sala</h1>\n    <form class=\"container-fluid\">\n      <div class=\"form-group\">\n        <label for=\"sala.nome\" class=\"mr-2\">Nome da sala</label>         \n        <input type=\"text\" id=\"sala.nome\" name=\"sala.nome\" v-model=\"nomeSala\" class=\"form-control\" />\n      </div>\n      <div class=\"row\">\n        <div class=\"col-2\">\n          <ul>\n            <li v-for=\"(cenario, i) in listaCenario\" :key=\"i\" :id=\"cenario.id\" :class=\"{ selecionado: cenario.selecionado }\">\n              <a href=\"#\" @click=\"alterarCenarioSelecionado(cenario.id)\">{{ cenario.id }}</a>\n            </li>\n          </ul> \n        </div>\n        <div class=\"col-10\">\n          <div v-for=\"(cenario, i) in listaCenario\" :key=\"i + '.cadastro'\">\n            <div v-show=\"cenario.selecionado\">\n              <CadastroCenario\n                  :id=\"cenario.id\"\n                  :listaItemCenarios=\"listaItemCenarios\"\n                  :listaObjetosCenarios=\"listaObjetoCenarios\"\n                  :dadosIniciais=\"cenario.dadosIniciais\"\n                  :tipoItem=\"tipoItem\"\n                  @origemCenarioAlterada=\"alterarDestinoItemCenarios\"\n                  @nomeCenarioAlterado=\"alterarNomeCenarioItemCenarios\"\n                  @itemAdicionado=\"adicionarItemCenarios\" \n                  @itemAlterado=\"alterarItemCenarios\"\n                  @itemRemovido=\"removerItemCenarios\"></CadastroCenario>\n              <div class=\"form-group\">    \n                <input type=\"button\" value=\"Remover cenário\" v-if=\"!existeCenarioDestinoItemCenarios(cenario.id)\" @click=\"removerCenario(cenario.id)\" class=\"btn btn-secondary\"/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>  \n      <div class=\"form-group\">\n        <input type=\"button\" value=\"Adicionar novo cenário\" @click=\"adicionarCenario()\" class=\"btn btn-primary w-100\" />\n      </div>\n      <div class=\"form-group\">\n        <input type=\"button\" value=\"Salvar sala\" @click=\"salvarSala()\" class=\"btn btn-primary w-50\" />\n        <input type=\"button\" value=\"Cancelar\" @click=\"cancelarSala()\" class=\"btn btn-secondary w-50\" />\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport CadastroCenario from \"./components/CadastroCenario\"\n\nexport default {\n  name: \"CadastroSala\", \n  components: {\n    CadastroCenario\n  }, \n  mounted() {\n    this.adicionarCenario();\n  },\n  data: function() {\n    return {\n      nomeSala: \"\",\n      idUnicoCenario: 0,\n      listaItemCenarios: [],\n      listaObjetoCenarios: [],\n      listaCenario: [],\n      tipoItem: {\n        CADEADO: \"Cadeado\", \n        OBJETO: \"Objeto\", \n        OBJETO_RECIPIENTE: \"Recipiente de objeto\", \n        CENARIO_FILHO: \"Cenário filho\"\n      }\n    }\n  },\n  methods: {\n    adicionarCenario() {\n      this.alterarCenarioSelecionado(\"\");\n      // Adiciona um cenário\n      this.listaCenario.push({\n        id: \"cenario\" + (++this.idUnicoCenario),\n        dadosIniciais: {\n          inicial: this.idUnicoCenario == 1\n        },\n        selecionado: true\n      })\n    },\n    alterarCenarioSelecionado(cenarioId) {\n      // Altera o cenário selecionado e para ficar visível na tela\n      for (let i=0; i<this.listaCenario.length; i++) {\n        if (this.listaCenario[i].id === cenarioId) {\n          this.listaCenario[i].selecionado = true;\n        }\n        else {\n          this.listaCenario[i].selecionado = false;\n        }\n      }\n    },\n    removerCenario(cenarioId) {\n      if (confirm(\"Confirma a exclusão do cenário?\")) {\n        // Remove como opção de Origem de cenário os itens do cenário removido\n        for (let i=this.listaItemCenarios.length-1; i>=0; i--) {\n          if (this.listaItemCenarios[i].cenarioId === cenarioId) {\n            this.listaItemCenarios.splice(i, 1);\n          }\n        }\n        // Remove como opção de Objeto para recipiente os itens do cenário removido\n        for (let i=this.listaObjetoCenarios.length-1; i>=0; i--) {\n          if (this.listaObjetoCenarios[i].cenarioId === cenarioId) {\n            this.listaObjetoCenarios.splice(i, 1);\n          }\n        }\n        // Remove o cenário\n        for (let i=0; i<this.listaCenario.length; i++) {\n          if (this.listaCenario[i].id === cenarioId) {\n            this.listaCenario.splice(i, 1);\n            break;\n          }\n        }\n      }    \n    },\n    alterarNomeCenarioItemCenarios(cenario) {\n      // Altera o nome do cenário na opção de Origem de cenário\n      for (let i=0; i<this.listaItemCenarios.length; i++) {\n        if (this.listaItemCenarios[i].cenarioId === cenario.cenarioId) {\n          this.listaItemCenarios[i].nomeCenario = cenario.nomeCenario;\n        }\n      }\n      // Altera o nome do cenário na opção de Objeto para recipiente\n      for (let i=0; i<this.listaObjetoCenarios.length; i++) {\n        if (this.listaObjetoCenarios[i].cenarioId === cenario.cenarioId) {\n          this.listaObjetoCenarios[i].nomeCenario = cenario.nomeCenario;\n        }\n      }\n    },\n    adicionarItemCenarios(item) {\n      // Adiciona item como opção de Origem de cenário\n      this.listaItemCenarios.push(item);\n      if (item.tipo === this.tipoItem.OBJETO) {\n        // Adiciona item como opção de Objeto para recipiente\n        this.listaObjetoCenarios.push(item);\n      }\n    },   \n    alterarItemCenarios(item) {\n      // Altera o nome do item na opção de Origem de cenário\n      for (let i=0; i<this.listaItemCenarios.length; i++) {\n        if (this.listaItemCenarios[i].id === item.id) {\n          this.listaItemCenarios[i].nomeItem = item.nomeItem;\n          break;\n        }\n      }\n      if (item.tipo === this.tipoItem.OBJETO) {\n        // Altera o nome do item na opção de Objeto para recipiente\n        for (let i=0; i<this.listaObjetoCenarios.length; i++) {\n          if (this.listaObjetoCenarios[i].id === item.id) {\n            this.listaObjetoCenarios[i].nomeItem = item.nomeItem;\n            break;\n          }\n        }\n      }\n    },\n    removerItemCenarios(item) {\n      // Remove como opção de Origem de cenário o item removido\n      for (let i=0; i<this.listaItemCenarios.length; i++) {\n        if (this.listaItemCenarios[i].id === item.id) {\n          this.listaItemCenarios.splice(i, 1);\n          break;\n        }\n      }\n      if (item.tipo === this.tipoItem.OBJETO) {\n        // Remove como opção de Objeto para recipiente o item removido\n        for (let i=0; i<this.listaObjetoCenarios.length; i++) {\n          if (this.listaObjetoCenarios[i].id === item.id) {\n            this.listaObjetoCenarios.splice(i, 1);\n            break;\n          }\n        }\n      }\n    },   \n    alterarDestinoItemCenarios(cenario) {\n      // Altera o destino do item que foi selecionado ou desselecionado como opção de Origem do cenário\n      for (let i=0; i<this.listaItemCenarios.length; i++) {\n        if (this.listaItemCenarios[i].id === cenario.itemId) {\n          if (cenario.itemSelecionado) {\n            this.listaItemCenarios[i].cenarioIdDestino = cenario.cenarioId;\n          }\n          else {\n            this.listaItemCenarios[i].cenarioIdDestino = \"\";\n          }\n          break;\n        }\n      }\n    },\n    existeCenarioDestinoItemCenarios(cenarioId) {\n      // Verifica se existe item desse cenário sendo utilizado como opção de Origem de cenário para outro cenário destino\n      for (let i=0; i<this.listaItemCenarios.length; i++) {\n        if (this.listaItemCenarios[i].cenarioId === cenarioId && this.listaItemCenarios[i].cenarioIdDestino !== \"\") {\n          return true;\n        }\n      }\n      return false;\n    },\n    salvarSala() {\n      console.log(\"Salvar sala\");\n    },\n    cancelarSala() {\n      console.log(\"Cancelar sala\");\n    }\n  } \n}\n</script>\n\n<style>\n  .selecionado {\n    background-color: yellow;\n  }\n</style>"]}]}